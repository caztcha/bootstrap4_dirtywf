<!doctype html>
<html lang="ja">
<head>
<title>レスポンシブなカルーセル &mdash; Dirty & Rapid Wireframing Components by @caztcha</title>
<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<!-- Bootstrap CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

<!-- Additional CSS -->
<link rel="stylesheet" type="text/css" href="additional/additional_stylesheet.css" >

<!-- ★Additional CSS (for Slick)★ -->
<link rel="stylesheet" type="text/css" href="additional/slick/slick.css"/>
<link rel="stylesheet" type="text/css" href="additional/slick/slick-theme.css"/>

<meta name="description" content="">

</head>

<body>

<main role="main">
<div class="container">

<h1 class="my-5">レスポンシブなカルーセル</h1>

<p>複数パネルを表示する (画面サイズに応じてパネル数が増減する) カルーセルです (各パネルがリンクであるという想定)。jQuery プラグインの <a href="http://kenwheeler.github.io/slick/">Slick</a> を使用しています。</p>

<h2 class="my-5">アクセシビリティの配慮</h2>

<ul>
<li>[Tab] キーによるフォーカス移動および [Enter] キーによる実行が可能です。スクリーンリーダーを併用していない場合は、(フォーカスがカルーセル内にあれば) 左右矢印キーでもパネル切り替えが可能です。</li>
<li>ボタン (前のパネル/次のパネル) の aria-label 属性値を日本語化しています (slick.js を加筆修正)。</li>
<li>ボタン (前のパネル/次のパネル)  の配色改善およびフォーカス非可視化 (outline:none;) の無効化をしています (slick-theme.css を加筆修正)。</li>
<li>ボタン (前のパネル/次のパネル)  のタップ可能領域を拡大しています (44 CSS pixels 四方)。また、ボタンとパネルのタップ可能領域の重なりを解決 (ボタンを優先) するために、ボタン側に z-index 値を追記しています。</li>
<li>各パネルがリンクである場合、&lt;a&gt; 要素が親要素の下位にあると (たとえば、div や、箇条書きマークアップであれば li などの中に a があると)、Slick の仕様として、その親要素にもフォーカスが当たるようになっているため、スクリーンリーダーユーザーがリンクを利用できない (&lt;a&gt; 要素にフォーカスが当たってもラベルが読み上げられない) 恐れがあります。このため、このサンプルでは、&lt;a&gt; が各パネルの親要素になるようにしています。</li>
<li>カルーセルの親要素 &lt;div class="responsive-carousel"&gt; に aria-live="polite" を記述しています。パネルを切り替えるたびにライブで、表示されるパネル (の画像 alt やテキストラベル) がスクリーンリーダーで読み上げられるようにしています。(Firefox + NVDA ではうまくいかず。)</li>
</ul>

<h2 class="my-5">この UI コンポーネントに固有の CSS および JavaScript</h2>

<ul>
<li>&lt;head&gt; 内の Additional CSS (for Slick) にある slick.css および slick-theme.css。</li>
<li>&lt;/body&gt; 手前の Additional JavaScript (for Slick) にある slick.js およびカスタマイズのための script。</li>
</ul>

<div style="height:5em;"></div>

<!------- ★ここから★ ------->
<div class="responsive-carousel mx-3 my-5" aria-live="polite">

<a href="https://www.google.co.jp" class="mx-2 my-2"><img class="mx-auto" src="http://placehold.jp/300x200.png?text=Panel01" alt="1枚目のパネル" style="width:90%;" /><h3 class="mt-1 text-center">Heading01</h3><p class="text-center">Lorem ipsum dolor sit amet, consectetur adipiscing elit. </p></a>

<a href="https://www.yahoo.co.jp" class="mx-2 my-2"><img class="mx-auto" src="http://placehold.jp/300x200.png?text=Panel02" alt="2枚目のパネル" style="width:90%;" /><h3 class="mt-1 text-center">Heading02</h3><p class="text-center">Lorem ipsum dolor sit amet, consectetur adipiscing elit. </p></a>

<a href="https://www.google.co.jp" class="mx-2 my-2"><img class="mx-auto" src="http://placehold.jp/300x200.png?text=Panel03" alt="3枚目のパネル" style="width:90%;" /><h3 class="mt-1 text-center">Heading03</h3><p class="text-center">Lorem ipsum dolor sit amet, consectetur adipiscing elit. </p></a>

<a href="https://www.yahoo.co.jp" class="mx-2 my-2"><img class="mx-auto" src="http://placehold.jp/300x200.png?text=Panel04" alt="4枚目のパネル" style="width:90%;" /><h3 class="mt-1 text-center">Heading04</h3><p class="text-center">Lorem ipsum dolor sit amet, consectetur adipiscing elit. </p></a>

<a href="https://www.yahoo.co.jp" class="mx-2 my-2"><img class="mx-auto" src="http://placehold.jp/300x200.png?text=Panel05" alt="5枚目のパネル" style="width:90%;" /><h3 class="mt-1 text-center">Heading05</h3><p class="text-center">Lorem ipsum dolor sit amet, consectetur adipiscing elit. </p></a>

</div>
<!------- ★ここまで★ ------->

<div style="height:5em;"></div>

</div><!-- End .container -->
</main>


<!-- Optional JavaScript -->
<!-- Font Awesome CDN -->
<script defer src="https://use.fontawesome.com/releases/v5.0.4/js/all.js"></script>

<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

<!-- ★Additional JavaScript (for Slick)★ -->
<script type="text/javascript" src="additional/slick/slick.js"></script>
<script type="text/javascript">
$(function() {
	$('.responsive-carousel').slick({
	        accessibility: true, 
		dots: false, // スライダー下部に表示されるドット状のページコントロール
		infinite: false, // 無限ループ。これを true にした場合、表示されているパネルであるにもかかわらず tabindex="-1" になるバグがある。
		speed: 300, // 切り替わりのスピード
		slidesToShow: 3, //パネル表示数
		slidesToScroll: 1, //ボタン (前のパネル/次のパネル) を押したときに差し替わるパネル数
		centerMode: false, //これを true にすると、前後のパネルを「チラ見せ」できる。ただし、slideToShow の値が複数だと表示が崩れる。
		responsive: [{
			breakpoint: 992,settings: { //992px以下では2画像表示
				slidesToShow: 2,
				slidesToScroll: 1,
			}
		},
		{
			breakpoint: 768,settings: { //768px以下では1画像表示
				slidesToShow: 1,
				slidesToScroll: 1,
			}
		},
]
	});
});
</script>


</body>
</html>